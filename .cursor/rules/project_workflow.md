# TestKitdex Project Workflow

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- **BDD-first**: –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π —Å BDD —Å—Ü–µ–Ω–∞—Ä–∏—è –≤ `features/`
- **TDD —Ü–∏–∫–ª**: –°—Ü–µ–Ω–∞—Ä–∏–π ‚Üí –¢–µ—Å—Ç ‚Üí –ö–æ–¥ ‚Üí –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- **–ü–ª–∞–Ω—ã**: –ü—Ä–æ–≤–µ—Ä—è–π `plans/` –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –º–µ—Ç—Ä–∏–∫

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
src/                    # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îú‚îÄ‚îÄ testkit_indexer/    # –ü–∞—Ä—Å–∏–Ω–≥ C# ‚Üí SQLite
‚îú‚îÄ‚îÄ mcp_server/         # FastAPI –¥–ª—è AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤
‚îî‚îÄ‚îÄ cli/               # –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

tests/                  # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ unit/              # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ integration/       # API
‚îî‚îÄ‚îÄ acceptance/        # E2E

features/              # BDD —Å—Ü–µ–Ω–∞—Ä–∏–∏ (8 —Ñ–∞–π–ª–æ–≤)
data/testkit_sample/   # TestKit –∏–Ω—Ñ—Ä–∞ (–∫–∞–∫ –≤ ClubDoorman)
```

### 3. –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

#### –ù–æ–≤–∞—è —Ñ–∏—á–∞:
1. **BDD**: `features/new_feature.feature` (@tag)
2. **Unit**: `tests/unit/test_new_feature.py`
3. **Code**: `src/module/new_feature.py`
4. **Integration**: `tests/integration/test_new_feature_api.py`

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞:
1. **Reproduce**: BDD —Å—Ü–µ–Ω–∞—Ä–∏–π —Å edge case
2. **Fix**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
3. **Test**: –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
4. **Document**: –û–±–Ω–æ–≤–∏—Ç—å –ø–ª–∞–Ω—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### 4. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- **SQLite-first**: –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫, FTS5
- **MCP API**: FastAPI –¥–ª—è AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **BDD-TDD**: 90%+ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- **Performance**: < 100–º—Å –ø–æ–∏—Å–∫, < 30—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

#### –ö–æ–¥:
- **Type hints**: 100% —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Docstrings**: –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- **Error handling**: RFC 7807 —Ñ–æ—Ä–º–∞—Ç
- **Logging**: DEBUG –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 5. –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –¢–µ—Å—Ç—ã
pytest tests/ -v
behave features/ --tags=@feature_name

# –ö–∞—á–µ—Å—Ç–≤–æ
black --check .
flake8 .
mypy src/

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
python -m src.cli.main index /path/to/testkit
python -m src.cli.main search "query"
```

### 6. –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

#### –ö–∞—á–µ—Å—Ç–≤–æ:
- –ü–æ–∫—Ä—ã—Ç–∏–µ: > 90%
- –õ–∏–Ω—Ç–∏–Ω–≥: 0 –æ—à–∏–±–æ–∫
- –¢–∏–ø–∏–∑–∞—Ü–∏—è: 100%

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è: < 30 —Å–µ–∫ (1000 –º–µ—Ç–æ–¥–æ–≤)
- –ü–æ–∏—Å–∫: < 100–º—Å
- API: < 200–º—Å

#### –ü–æ–ª–µ–∑–Ω–æ—Å—Ç—å:
- –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞: > 85%
- AI –ø–æ–¥—Å–∫–∞–∑–∫–∏: > 80%

### 7. –ß–∞—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏

#### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–µ–≥:
1. `features/tag_hierarchy.feature` - —Å—Ü–µ–Ω–∞—Ä–∏–π
2. `src/testkit_indexer/tag_extractor.py` - –ª–æ–≥–∏–∫–∞
3. `tests/unit/test_tag_extractor.py` - —Ç–µ—Å—Ç

#### –£–ª—É—á—à–∏—Ç—å –ø–æ–∏—Å–∫:
1. `features/search.feature` - edge case
2. `src/testkit_indexer/search.py` - –∞–ª–≥–æ—Ä–∏—Ç–º
3. `tests/unit/test_search.py` - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –î–æ–±–∞–≤–∏—Ç—å API endpoint:
1. `features/mcp_api.feature` - —Å—Ü–µ–Ω–∞—Ä–∏–π
2. `src/mcp_server/handlers.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
3. `tests/integration/test_mcp_server.py` - —Ç–µ—Å—Ç

### 8. –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–ü–ª–∞–Ω—ã**: `plans/ARCHITECTURE_PLAN.md`
- **BDD**: `features/` (8 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
- **TestKit**: `data/testkit_sample/`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/DEVELOPMENT.md`

---

**–ü—Ä–∞–≤–∏–ª–æ**: –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π —Å BDD —Å—Ü–µ–Ω–∞—Ä–∏—è, —Å–ª–µ–¥—É–π TDD —Ü–∏–∫–ª—É, –ø—Ä–æ–≤–µ—Ä—è–π –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. 